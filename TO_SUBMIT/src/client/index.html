<!DOCTYPE html>

<html lang="en" ng-app="Chatbox">
	<head>
		<script src = "js/angular.js"></script>
		<script src = "js/angular-resource.js"></script>
		<script src = "js/chatimplementation.js"></script>
		<link href="css/bootstrap.css" rel="stylesheet">	
	</head>
	<body>
		<div class="container" ng-controller="Chatbox">
		<div  ng-show = "!loggedin" class="row" style="background:#EEE; height:45px;">
			<div class="container">
			<form class="form-inline" role="form" style="margin-top:5px;">
			  <div class="form-group">
			    <label class="sr-only" for="exampleInputEmail2">Email address</label>
			    <input type="email" class="form-control" id="exampleInputEmail2" placeholder="Enter email">
			  </div>
			  <div class="form-group">
			    <label class="sr-only" for="exampleInputPassword2">Password</label>
			    <input type="password" class="form-control" id="exampleInputPassword2" placeholder="Password">
			  </div>
			  <div class="checkbox">
			    <label>
			      <input type="checkbox"> Remember me
			    </label>
			  </div>
			  <button ng-click="login()" class="btn btn-default">Sign in</button>

			</form>
			</div>
		</div>
			

			<div class="row" ng-show = "loggedin" style="background:#EEE; height:45px;">
				<div class="container">Hello {{user}}</div>
			</div>

			<div class="row">
				 <div class="col-md-4"><h1>User List</h1><p ng-repeat="user in users"> {{user}}</p></div>
				 <div class="col-md-8">
					<h1>
						Messages
						<button ng-click="getAllMessages(user)" class="btn btn-info pull-right">Sync</button>
					</h1>
				 <div id='div1' style='overflow:scroll;overflow-x:hidden;max-height:400px;'>
				 
				 	<div ng-repeat="message in messages">
				 	<div   class="{{getMessageClass(message.from)}}">
					  <a  href="#">{{message.from}} to {{message.to}}: {{message.content}}</a>
					</div>
					</div>
					
				 </div>
				 </div>
  				
			</div>
			<div class="row" >
				<h2>
					Send Message <!--{{status}} {{data}}-->
				</h2>
						
						To: <input id = "toUser" class="form-control counted" type="text" name="to">                        
						Message: 
						<textarea id = "messageBox" class="form-control counted" name="message" placeholder="Type in your message" rows="5" style="margin-bottom:10px;"></textarea>
                        <button ng-click="sendMessage()" class="btn btn-info pull-right">Send Message</button>
                
			</div>
		</div>
	</body>
</html>